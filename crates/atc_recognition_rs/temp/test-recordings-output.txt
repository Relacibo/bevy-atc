
running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 22 filtered out; finished in 0.00s


running 3 tests
test test_delta_recording ... FAILED
test test_lufthansa_cargo_recording ... FAILED
test test_easyjet_recording ... FAILED

failures:

---- test_delta_recording stdout ----
Testing Delta recording:
Text: 'delta four one three zero fly heading three two five'
Expected command: AviationCommandGroup { target: Some(Aircraft { full_name: "DAL4130" }), parts: [FlyHeading { heading: Heading(Heading(325.0)), turn_direction: None }] }

thread 'test_delta_recording' panicked at crates/atc_recognition_rs/tests/test_recordings.rs:133:13:
Delta parsing should extract commands, not just callsign: 'DAL4130'
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_lufthansa_cargo_recording stdout ----
Testing Lufthansa Cargo recording:
Text: 'lufthansa cargo niner niner zero three two one radar contact maintain three thousand feet fly heading zero niner zero'
Expected command: AviationCommandGroup { target: Some(Aircraft { full_name: "GEC990321" }), parts: [RadarContact, ChangeAltitude { altitude: Feet(3000.0), maintain: false, turn_direction: None }, FlyHeading { heading: Heading(Heading(90.0)), turn_direction: None }] }

thread 'test_lufthansa_cargo_recording' panicked at crates/atc_recognition_rs/tests/test_recordings.rs:281:13:
Lufthansa Cargo parsing must be complete, not partial. Parsed: ParsedCommand { callsign: "GEC990321", callsign_confidence: 0.95, commands: [CommandWithConfidence { command: ChangeAltitude { altitude: FlightLevel(100), maintain: true, turn_direction: Some(Climb) }, confidence: 0.6, source_text: "maintain 3 thousand feet" }] }, Unparsed: ["radar", "contact", "fly", "heading", "0", "9", "0"]

---- test_easyjet_recording stdout ----
Testing EasyJet recording:
Text: 'easyjet two niner zero two climb and maintain flight level two hundred fifty and turn left heading three two zero'
Expected command: AviationCommandGroup { target: Some(Aircraft { full_name: "EZY2902" }), parts: [ChangeAltitude { altitude: FlightLevel(250), maintain: false, turn_direction: Some(Climb) }, FlyHeading { heading: Heading(Heading(320.0)), turn_direction: Some(Left) }] }

thread 'test_easyjet_recording' panicked at crates/atc_recognition_rs/tests/test_recordings.rs:204:13:
EasyJet parsing must be complete, not partial. Parsed: ParsedCommand { callsign: "Easyjet2902", callsign_confidence: 0.8, commands: [CommandWithConfidence { command: ChangeAltitude { altitude: FlightLevel(100), maintain: true, turn_direction: Some(Climb) }, confidence: 0.6, source_text: "maintain flight level 2 hundred fifty and" }, CommandWithConfidence { command: TurnBy { degrees: Degrees(30.0), turn_direction: Some(Left) }, confidence: 0.95, source_text: "turn left" }] }, Unparsed: ["climb", "heading", "3", "2", "0"]


failures:
    test_delta_recording
    test_easyjet_recording
    test_lufthansa_cargo_recording

test result: FAILED. 0 passed; 3 failed; 0 ignored; 0 measured; 8 filtered out; finished in 0.09s

